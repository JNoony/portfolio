!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@egjs/component")):"function"==typeof define&&define.amd?define(["exports","@egjs/component"],t):t(((e=e||self).eg=e.eg||{},e.eg.LazyLoaded={}),e.eg.Component)}(this,function(e,t){"use strict";var n="undefined"!=typeof window,r=n?window.navigator.userAgent:"",i=n&&!!("getComputedStyle"in window),g=/MSIE|Trident|Windows Phone|Edge/.test(r),o=n&&!!("addEventListener"in document),u="width",a="height";function d(e,t){return e.getAttribute(t)||""}function l(e){return[].slice.call(e)}function v(e,t){return void 0===t&&(t="data-"),!!e.getAttribute(t+"width")}function h(e,t,n){o?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function m(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function c(e,t){var n=e["client"+t]||e["offset"+t];return parseFloat(n||function(e){return(i?window.getComputedStyle(e):e.currentStyle)||{}}(e)[t.toLowerCase()])||0}var f=[];function p(e,t){!f.length&&h(window,"resize",y),e.__PREFIX__=t,f.push(e),s(e)}function w(e,t){var n=f.indexOf(e);if(!(n<0)){var r=d(e,t+"fixed");delete e.__PREFIX__,e.style[r===a?u:a]="",f.splice(n,1),!f.length&&m(window,"resize",y)}}function s(e,t){void 0===t&&(t="data-");var n=e.__PREFIX__;"string"!=typeof n&&(n=t);var r=parseInt(d(e,""+n+u),10)||0,i=parseInt(d(e,""+n+a),10)||0;if(d(e,n+"fixed")===a){var o=function(e){return c(e,"Height")}(e)||i;e.style[u]=r/i*o+"px"}else{o=function(e){return c(e,"Width")}(e)||r;e.style[a]=i/r*o+"px"}}function y(){f.forEach(function(e){s(e)})}e.check=function n(e,a){void 0===a&&(a="data-");var d=new t,c=0,f=0;function s(){0==--c&&d.trigger("finish")}return e.forEach(function(o,u){var e=o.tagName;if(v(o,a)&&"IMG"!==e)return p(o,a),++c,void setTimeout(function(){n(l(o.querySelectorAll("img")),a).on("finish",function(){w(o,a),s()})});var t="IMG"===e?[o]:l(o.querySelectorAll("img"));t.length&&t.forEach(function(n,r){function i(e){var t=e.target||e.srcElement;m(t,"error",i),m(t,"load",i),v(t,a)?w(t,a):0==--f&&d.trigger("ready"),"error"===e.type&&d.trigger("error",{itemTarget:o,itemIndex:u,target:n,index:r}),s()}n.complete&&(!g||g&&n.naturalWidth)?n.naturalWidth||setTimeout(function(){d.trigger("error",{itemTarget:o,itemIndex:u,target:n,index:r})}):(v(n,a)?p(n,a):++f,++c,h(n,"load",i),h(n,"error",i),g&&n.setAttribute("src",n.getAttribute("src")))})}),!f&&setTimeout(function(){d.trigger("ready")}),!c&&setTimeout(function(){d.trigger("finish")}),d},e.removeAutoSizer=w});
//# sourceMappingURL=lazyloaded.min.js.map
